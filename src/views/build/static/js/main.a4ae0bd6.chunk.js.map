{"version":3,"sources":["auth/auth-provider-withhistory.js","auth/protected-route.js","auth/login-button.js","auth/logout-button.js","auth/authentication-button.js","components/layout/Header.js","components/layout/Nav.js","components/layout/Main.js","components/layout/Footer.js","components/layout/index.js","pages/NotFound.js","pages/Projects/Landing.js","pages/Projects/Add.js","fetch/useFetch.js","pages/Projects/List.js","pages/Projects/ListItem.js","pages/Projects/Detail.js","pages/Projects/Update.js","pages/Home/Landing.js","App.js","index.js"],"names":["Auth0ProviderWithHistory","children","history","useHistory","domain","process","clientId","redirectUri","window","location","origin","onRedirectCallback","appState","push","returnTo","pathname","audience","ProtectedRoute","component","args","withAuthenticationRequired","onRedirecting","LoginButton","loginWithRedirect","useAuth0","onClick","LogoutButton","logout","AuthenticationButton","isAuthenticated","Header","Nav","to","Main","Footer","AppLayout","Fragment","NotFound","url","useRouteMatch","Landing","path","Add","List","Detail","Update","useFetch","endpoint","useState","data","setData","error","setError","isLoading","setIsLoading","getAccessTokenSilently","serverUrl","callApi","a","token","fetch","headers","Authorization","response","json","responseData","console","log","success","message","results","Error","ok","useEffect","projects","map","project","item","_id","ListItem","title","author","state","useLocation","App","exact","HomeLanding","ProjectsLanding","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a4ae0bd6.chunk.js","sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nconst Auth0ProviderWithHistory = ({ children }) => {\n  const domain = process.env.REACT_APP_AUTH0_DOMAIN;\n  const clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\n  const audience = process.env.REACT_APP_AUTH0_AUDIENCE;\n\n  const history = useHistory();\n\n  const onRedirectCallback = (appState) => {\n    history.push(appState?.returnTo || window.location.pathname);\n  };\n\n  return (\n    <Auth0Provider\n      domain={domain}\n      clientId={clientId}\n      redirectUri={window.location.origin}\n      onRedirectCallback={onRedirectCallback}\n      audience={audience}\n    >\n      {children}\n    </Auth0Provider>\n  );\n};\n\nexport default Auth0ProviderWithHistory;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport { withAuthenticationRequired } from '@auth0/auth0-react';\n\nconst ProtectedRoute = ({ component, ...args }) => {\n  return (\n  <Route\n    component={withAuthenticationRequired(component, {\n      onRedirecting: () => <div>loading...</div>,\n    })}\n    {...args}\n  />\n)};\n \nexport default ProtectedRoute;","import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst LoginButton = () => {\n  const { loginWithRedirect } = useAuth0();\n  return (\n    <button onClick={() => loginWithRedirect()}>Log In</button>\n  );\n};\n\nexport default LoginButton;","import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst LogoutButton = () => {\n  const { logout } = useAuth0();\n  return (\n    <button\n      onClick={() =>\n        logout({\n          returnTo: window.location.origin,\n        })\n      }\n    >\n      Log Out\n    </button>\n  );\n};\n\nexport default LogoutButton;","import React from 'react';\nimport LoginButton from \"./login-button\";\nimport LogoutButton from \"./logout-button\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst AuthenticationButton = () => {\n  const { isAuthenticated } = useAuth0();\n  return isAuthenticated ? <LogoutButton/> : <LoginButton/>\n}\n\nexport default AuthenticationButton;","import React from 'react';\nimport { AuthenticationButton } from './../../auth';\nimport { useAuth0 } from '@auth0/auth0-react';\n\nconst Header = ({ children }) => {\n\n  return ( \n    <header>\n      <h1>portfolio application</h1>\n      <p><AuthenticationButton/></p>\n      { children }\n    </header>\n   );\n}\n \nexport default Header;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Nav = () => {\n  return ( \n    <nav>\n      <ul>\n        <li><Link to=\"/\">home</Link></li>\n        <li><Link to=\"/projects\">projects</Link></li>     \n      </ul>\n    </nav>\n   );\n}\n \nexport default Nav;","import React from 'react';\n\nconst Main = ({children}) => {\n  return ( \n    <main>\n      {children}\n    </main>\n   );\n}\n \nexport default Main;","import React from 'react';\n\nconst Footer = () => {\n  return ( \n    <footer>footer</footer>\n   );\n}\n \nexport default Footer;","import Header from './Header';\nimport Nav from './Nav';\nimport Main from './Main';\nimport Footer from './Footer';\nimport React from 'react';\n\nconst AppLayout = ({ children }) => {\n  return ( \n    <React.Fragment>\n      <Header>\n        <Nav/>\n      </Header>\n      <Main>\n        {children}\n      </Main>\n      <Footer>\n        <p>footer</p>\n      </Footer>\n    </React.Fragment>\n   );\n}\n \nexport default AppLayout;","import React from 'react';\nimport { useRouteMatch } from 'react-router-dom';\n\nconst NotFound = () => {\n  const { url } = useRouteMatch();\n  return (\n    <h3>{url} page not found</h3>\n  )\n}\n\nexport default NotFound;","import React from 'react';\nimport { Switch, Route, Link, useRouteMatch } from 'react-router-dom';\nimport { Add, List, Detail, Update } from './index';\nimport NotFound from '../NotFound';\n\nconst Landing = () => {\n\n  const { url, path } = useRouteMatch();\n\n  return ( \n    <React.Fragment>\n      <h2>projects page</h2>\n      <ul>\n        <li><Link to={`${url}/add`}>add a project</Link></li>\n        <li><Link to={`${url}/list`}>projects list</Link></li>     \n      </ul>\n      <Switch>\n        <Route path={`${path}/add`} component={Add}/>\n        <Route path={`${path}/list`} component={List}/>\n        <Route path={`${path}/:id/detail`} component={Detail}/>\n        <Route path={`${path}/:id/update`} component={Update}/>\n        <Route path={`${path}/*`} component={NotFound}/>\n      </Switch>\n    </React.Fragment>\n   );\n}\n\nexport { Landing };","import React from 'react';\n\nconst Add = () => {\n  return (\n    <h3>add project</h3>\n  )\n}\n\nexport { Add };","import { useState, useEffect } from 'react';\nimport { useAuth0 } from '@auth0/auth0-react';\n\nconst useFetch = (endpoint) => {\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const { getAccessTokenSilently } = useAuth0();  \n\n  let serverUrl = process.env.NODE_ENV === 'development' ? process.env.REACT_APP_SERVER_URL_DEV : process.env.REACT_APP_SERVER_URL;\n\n  serverUrl = serverUrl + endpoint;\n\n  const callApi = async () => {\n    try {\n\n      const token = await getAccessTokenSilently();\n\n      const response = await fetch(serverUrl, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }        \n      });\n\n      const responseData = await response.json();\n\n      console.log(responseData)\n\n      const { success, message, results } = responseData;\n\n      if(!success) {\n        throw Error(message);\n      } else if(!response.ok) {\n        throw Error('Could not fetch data for this resource.');\n      }\n\n      setData(results);\n      setIsLoading(false);\n      setError(null);\n\n    } catch(err) {\n      setError(err.message);\n      setIsLoading(false);\n    }\n  }\n\n  useEffect(() => {\n\n    callApi();\n\n  },[endpoint]);  \n\n  return { data, isLoading, error}\n\n}\n\nexport default useFetch;","import React, { useState, useEffect } from 'react';\nimport { ListItem } from './index';\nimport projects from './../../data/projects';\nimport useFetch from '../../fetch/useFetch';\n\nconst List = () => {\n\n  const { data: projects, isLoading, error } = useFetch('/api/projects');\n\n  return (\n    \n    <section>\n      <h3>projects list</h3>\n      {error && <p>{error}</p>}\n      {isLoading && <p>Loading...</p>}\n      {projects && <ul>\n        {projects.map((project) => (\n          <ListItem key={project._id} item={project}/>\n        ))}\n      </ul>}\n    </section>\n  )\n}\n\nexport { List }","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst ListItem = ({ item }) => {\n  return ( \n    <article>\n      <p><li>\n        {item.title} by {item.author}\n          &nbsp; \n          <br/>\n          <small>\n            <Link \n              to={{\n                pathname: `/projects/${item._id}/detail`,\n                state: {\n                  item: item\n                }\n              }}\n            >detail\n            </Link>\n            &nbsp; | &nbsp;\n            <Link \n              to={{\n                pathname: `/projects/${item._id}/update`,\n                state: {\n                  item: item\n                }\n              }}\n            >update\n            </Link>\n            </small>\n          </li>\n          </p>      \n\n    </article>\n   );\n}\n \nexport { ListItem };","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst Detail = () => {\n  const location = useLocation();\n  const { item } = location.state;\n  return (\n    <article>\n    <h3>project detail</h3>\n    <h4>{item.title}\n    <br/>\n    <small>by {item.author}</small>\n    </h4>\n    <p>\n    <Link \n      key={`update_${item._id}`} \n      to={{\n        pathname: `/projects/${item._id}/update`,\n        state: {\n          item: item\n          }\n        }}\n        >update project\n        </Link>     \n    </p>\n    </article>\n\n  )\n}\n\nexport { Detail }","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst Update = () => {\n  const location = useLocation();\n  const { item } = location.state;\n  return (\n    <article>\n    <h3>update project</h3>\n    <h4>{item.title}\n    <br/>\n    <small>by {item.author}</small>\n    </h4>\n    <p>\n    <Link \n      key={`update_${item._id}`} \n      to={{\n        pathname: `/projects/${item._id}/detail`,\n        state: {\n          item: item\n          }\n        }}\n        >project detail\n        </Link>     \n    </p>\n    </article>\n\n  )\n}\n\nexport { Update }","import React from 'react';\n\nconst Landing = () => {\n  return ( \n    <h2>home page</h2>\n   );\n}\n \nexport default Landing;","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { ProtectedRoute } from './auth';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport AppLayout from './components/layout';\nimport { Landing as ProjectsLanding } from './pages/Projects';\nimport { Landing as HomeLanding } from './pages/Home';\nimport NotFound from './pages/NotFound';\n\nfunction App() {  \n\n  const { isLoading } = useAuth0();\n\n  if(isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    \n    <AppLayout>\n      <Switch>\n        <Route path=\"/\" exact component={HomeLanding}/>\n        <ProtectedRoute path=\"/projects\" component={ProjectsLanding}/>\n        <Route path=\"*\" component={NotFound}/>\n      </Switch>\n    </AppLayout>      \n  \n  );\n\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Auth0ProviderWithHistory from \"./auth/auth-provider-withhistory\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <Router>\n    <Auth0ProviderWithHistory>\n      <App />\n    </Auth0ProviderWithHistory>\n    \n  </Router>,\n  document.getElementById(\"root\")\n);\n\n\n"],"sourceRoot":""}